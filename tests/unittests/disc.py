# -*- coding: utf-8 -*-
# This file was generated by tests_generator.py
# Generated the 09/21/2017

"""Original pari/GP test file disc :
poldisc(Mod(1, 2)*x)
poldisc(Mod(1, 3)*(2*x^3+x^2+5))
poldisc(Mod(1, 3)*(2*x^3+x+5))
poldisc((a*x^3+b*x^2+c*x+d))
poldisc((a*x^3+b*x^2+c*x+d)*Mod(1,3))
poldisc((a*x^3+c*x+d)*Mod(1,3))

\\ #1830
p=Pol([1,12,-41,-1046,-1152,39768,128414,-829340,-4525890,8899442,94079590,4385944,-1307089619,-1852433280,12494993027,34801502551,-77942248052,-390957423498,215189990152,3107265788332,1420485007463,-18347443916369,-23277245912959,80992666070621,174175172136656,-256947893746801,-907981487991468,484717098540915,3624070471203629,223320207786810,-11495832122433637,-5970240860086125,29459554866159718,27626780885543732,-61174934576020682,-85453537075841594,101601090502467492,205071787088061635,-128623032844198712,-402298722797595630,103257810302253206,661593554032027685,13023738437946757,-924770373478411117,-228669477020600489,1106930103187315214,501417832370076217,-1137744012688843614,-748484700066174875,1002096690610670198,887074929263872304,-749681502970099140,-878282874862417133,466192451440777121,743397334132464078,-228293327650766293,-544343133811559511,73246386276267014,346915388490966115,2655042441806609,-192876875700267550,-25542640982995001,93481097097188652,23309890824202258,-39341812220193672,-14459562353785875,14260775252163516,7110363380474628,-4385795657650451,-2904911553101253,1111356927314961,1003888928894249,-216866559082696,-295159994592569,25722943511905,73725762974324,1493634668853,-15527611742629,-1817577645774,2717078090720,579368368367,-384681131682,-124276266074,41834786710,20049074850,-3059594663,-2480136051,67764972,231104576,16656470,-15345258,-2573079,629755,190125,-7992,-7579,-537,116,21,1]);
poldisc(p)
"""
import unittest
from cypari2 import Pari, PariError

pari = Pari()


class TestDisc(unittest.TestCase):
    def test_disc(self):
        self.assertEquals(pari.poldisc(pari.Mod(1, 2)*'x'), 'Mod(1, 2)')
        self.assertEquals(pari.poldisc(pari.Mod(1, 3)*'(2*x^3+x^2+5)'), 'Mod(1, 3)')
        self.assertEquals(pari.poldisc(pari.Mod(1, 3)*'(2*x^3+x+5)'), 'Mod(1, 3)')
        self.assertEquals(pari.poldisc('(a*x^3+b*x^2+c*x+d)'),
                          '-27*d^2*a^2 + (18*d*c*b - 4*c^3)*a + (-4*d*b^3 + c^2*b^2)')
        self.assertEquals(pari.poldisc('(a*x^3+b*x^2+c*x+d)' * pari.Mod(1, 3)),
                          'Mod(2, 3)*c^3*a + (Mod(2, 3)*d*b^3 + Mod(1, 3)*c^2*b^2)')
        self.assertEquals(pari.poldisc('(a*x^3+c*x+d)'*pari.Mod(1,3)), 'Mod(2, 3)*c^3*a')

        p = pari.Pol(
            [1, 12, -41, -1046, -1152, 39768, 128414, -829340, -4525890, 8899442, 94079590, 4385944, -1307089619,
             -1852433280, 12494993027, 34801502551, -77942248052, -390957423498, 215189990152, 3107265788332,
             1420485007463, -18347443916369, -23277245912959, 80992666070621, 174175172136656, -256947893746801,
             -907981487991468, 484717098540915, 3624070471203629, 223320207786810, -11495832122433637,
             -5970240860086125, 29459554866159718, 27626780885543732, -61174934576020682, -85453537075841594,
             101601090502467492, 205071787088061635, -128623032844198712, -402298722797595630, 103257810302253206,
             661593554032027685, 13023738437946757, -924770373478411117, -228669477020600489, 1106930103187315214,
             501417832370076217, -1137744012688843614, -748484700066174875, 1002096690610670198, 887074929263872304,
             -749681502970099140, -878282874862417133, 466192451440777121, 743397334132464078, -228293327650766293,
             -544343133811559511, 73246386276267014, 346915388490966115, 2655042441806609, -192876875700267550,
             -25542640982995001, 93481097097188652, 23309890824202258, -39341812220193672, -14459562353785875,
             14260775252163516, 7110363380474628, -4385795657650451, -2904911553101253, 1111356927314961,
             1003888928894249, -216866559082696, -295159994592569, 25722943511905, 73725762974324, 1493634668853,
             -15527611742629, -1817577645774, 2717078090720, 579368368367, -384681131682, -124276266074, 41834786710,
             20049074850, -3059594663, -2480136051, 67764972, 231104576, 16656470, -15345258, -2573079, 629755, 190125,
             -7992, -7579, -537, 116, 21, 1]);
        self.assertEquals(pari.poldisc(p), '-1466510154829726293392657799494718982280019324678223081569643138650941' +
                          '8786507377255173112139726969385025460405653232785506791516185715571718938055758748427882' +
                          '056024408462365432062266407566752265468717307291')

"""**** Original expected results ****

Mod(1, 2)
Mod(1, 3)
Mod(1, 3)
-27*d^2*a^2 + (18*d*c*b - 4*c^3)*a + (-4*d*b^3 + c^2*b^2)
Mod(2, 3)*c^3*a + (Mod(2, 3)*d*b^3 + Mod(1, 3)*c^2*b^2)
Mod(2, 3)*c^3*a
-146651015482972629339265779949471898228001932467822308156964313865094187865
0737725517311213972696938502546040565323278550679151618571557171893805575874
8427882056024408462365432062266407566752265468717307291

"""
